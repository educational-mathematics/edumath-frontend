<div class="wrap" (click)="close()">
  <article class="card" (click)="$event.stopPropagation()" role="dialog" aria-modal="true">
    <button class="close" (click)="close()" aria-label="Cerrar">Ã—</button>

    <!-- Hero / Imagen principal -->
    <div class="hero">
      <img
        [src]="data.imageUrl"
        alt=""
        (error)="onImgErr($event)"
        loading="lazy"
        decoding="async"
      />
    </div>

    <!-- Contenido -->
    <div class="content">
      <h3 class="title">{{ data.title }}</h3>
      <p class="desc">{{ data.description }}</p>

      <div class="chips">
        <span class="chip rarity" [attr.aria-label]="'Rareza ' + data.rarityPct.toFixed(2) + '%'">
          <span class="dot"></span>
          Rareza: {{ data.rarityPct.toFixed(2) }}% 
        </span>

        <span class="chip state" [class.ok]="data.owned" [class.ko]="!data.owned">
          <span class="dot"></span>
          Estado: {{ data.owned ? 'Obtenida' : 'No obtenida' }}
        </span>
      </div>
    </div>
  </article>
</div>
